version: '3.7'

services:
  web-server:
    build:
      context: ./web-server
      dockerfile: web-server-dockerfile
    container_name: c-web-server
    ports: 
      - 47000:80
    volumes:
      - ./vol-pz-infra:/vol-pz-infra
      - ./vol-tarball-package:/usr/local/apache2/htdocs/tarballs
    networks:
      - nw-pz-infra

  test-server:
    build:
      context: ./test-server
      dockerfile: test-server-dockerfile
    # image: 
    container_name: c-test-server
    volumes:
      - ./vol-pz-infra:/vol-pz-infra
#     networks:
#       - nw-pz-infra


networks:
  nw-pz-infra:
    driver: bridge